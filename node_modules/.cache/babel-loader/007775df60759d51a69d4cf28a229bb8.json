{"ast":null,"code":"import { useReducer, useEffect } from 'react';\n\nfunction useLocalStorageReducer(key, reducer, defaultValue) {\n  const [state, dispatch] = useReducer(reducer, defaultValue, () => {\n    let value;\n\n    try {\n      value = JSON.parse(window.localStorage.getItem(key) || String(defaultValue));\n    } catch (e) {\n      value = defaultValue;\n    }\n\n    return value;\n  });\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, dispatch];\n}\n\nexport default useLocalStorageReducer;","map":{"version":3,"sources":["C:/Users/Student-PC/Desktop/DESKTOP/Komal Ata/todo/ToDoList/src/hooks/useLocalStorageReducer.js"],"names":["useReducer","useEffect","useLocalStorageReducer","key","reducer","defaultValue","state","dispatch","value","JSON","parse","window","localStorage","getItem","String","e","setItem","stringify"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;;AAEA,SAASC,sBAAT,CAAgCC,GAAhC,EAAqCC,OAArC,EAA8CC,YAA9C,EAA4D;AAC1D,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,UAAU,CAACI,OAAD,EAAUC,YAAV,EAAwB,MAAM;AAChE,QAAIG,KAAJ;;AACA,QAAI;AACFA,MAAAA,KAAK,GAAGC,IAAI,CAACC,KAAL,CACNC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BV,GAA5B,KAAoCW,MAAM,CAACT,YAAD,CADpC,CAAR;AAGD,KAJD,CAIE,OAAOU,CAAP,EAAU;AACVP,MAAAA,KAAK,GAAGH,YAAR;AACD;;AACD,WAAOG,KAAP;AACD,GAVmC,CAApC;AAYAP,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4Bb,GAA5B,EAAiCM,IAAI,CAACQ,SAAL,CAAeX,KAAf,CAAjC;AACD,GAFQ,EAEN,CAACH,GAAD,EAAMG,KAAN,CAFM,CAAT;AAIA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACD;;AAED,eAAeL,sBAAf","sourcesContent":["import { useReducer, useEffect } from 'react';\r\n\r\nfunction useLocalStorageReducer(key, reducer, defaultValue) {\r\n  const [state, dispatch] = useReducer(reducer, defaultValue, () => {\r\n    let value;\r\n    try {\r\n      value = JSON.parse(\r\n        window.localStorage.getItem(key) || String(defaultValue)\r\n      );\r\n    } catch (e) {\r\n      value = defaultValue;\r\n    }\r\n    return value;\r\n  });\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(key, JSON.stringify(state));\r\n  }, [key, state]);\r\n\r\n  return [state, dispatch];\r\n}\r\n\r\nexport default useLocalStorageReducer;\r\n"]},"metadata":{},"sourceType":"module"}